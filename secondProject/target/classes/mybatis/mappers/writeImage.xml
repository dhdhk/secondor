<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.writeImage">
	<resultMap type="imageDTO" id="imgResult">
      <result property="imageFileNo" column="imageFileNo" />
      <result property="imageFileName" column="imageFileName" />
      <result property="regNum" column="regNum" />
   </resultMap>
	 <insert id="insertNewImage" parameterType="ImageDTO">
	 <![CDATA[
            insert into board(imageFileNo,imageFileName,regDate,regNum)
                values(#{imageFileNo}, #{imageFileName}, sysdate, #{regNum})
        ]]>
    </insert>
    <select id="selectNewImageFileNo" resultType="int">
        <![CDATA[
            select nvl(max(imageFileNo),0) from imageFile
        ]]>
    </select>
    <select id="selectImageFileList" resultMap="imgResult" parameterType="int">
    	<![CDATA[
    		select * from imageFile where regNum=#{regNum}
    	]]>
    </select>
</mapper>